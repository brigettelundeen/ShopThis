"use strict";var Listit=angular.module("ListItApp",["ngResource"]).config(["$httpProvider",function(a){a.defaults.headers.common["X-ZUMO-APPLICATION"]="deHcYguFWpBdJcEQYeiSQSlfZseKjK11",a.defaults.headers.common["Content-Type"]="application/json"}]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/lists.html",controller:"ListCtrl"}).when("/list/:listId",{templateUrl:"views/listitems.html",controller:"ListItemsCtrl"}).otherwise({redirectTo:"/"})}]),baseUrl="https://seriouslists.azure-mobile.net/tables/";Listit.factory("listItemService",["$resource",function(a){return a(baseUrl+"listitems/:id",{id:"@id"},{update:{method:"PATCH",isArray:!1}})}]),Listit.factory("listService",["$resource",function(a){return a(baseUrl+"lists/:id",{id:"@id"},{update:{method:"PATCH",isArray:!1}})}]),Listit.controller("ListCtrl",["$scope","listService",function(a,b){a.lists=b.query(),a.removeList=function(c){var d=a.lists[c];b.remove(d),a.lists.splice(c,1)},a.addList=function(){var c={name:a.listName,description:a.listDescription};b.save(c,function(b){a.lists.push(b)}),a.listName="",a.listDescription=""}}]),Listit.controller("ListItemsCtrl",["$scope","$routeParams","listItemService","listService",function(a,b,c){var d=b.listId?b.listId:null,e="(listId eq "+d+")";null!=d&&(a.items=c.query({$filter:e}),a.updateItem=function(a){c.update({id:a.id},a,function(){console.log("successfully updated")},function(a){console.log("error updating"),console.log(a)})},a.removeItem=function(b){var d=a.items[b];c.remove(d),a.items.splice(b,1)},a.addItem=function(){var b={text:a.itemText,complete:!1,listId:d};c.save(b,function(b){console.log("added new list item"),a.items.push(b)}),a.itemText=""})}]);